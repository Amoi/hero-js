<!doctype html>
<html>
<head>
  <script src="./app/config.js"></script>
  <script src="./app/shareViews.js"></script>
  <script src="./app/herohelper.js"></script>
  <script src="./app/autoRefresh.js"></script>
  <script src='/socket.io/socket.io.js'></script>
  <script src="./app/ethjs.min.js"></script>
  <script src="./app/store.js"></script>
  <script src="../../hero.js"></script>
  <script>
    if(typeof web3 !== 'undefined') {
      window.eth = new Eth(web3.currentProvider);
    } else {
      window.eth = new Eth(new Eth.HttpProvider(window.ethProvider));
    }

    var eth = window.eth;
    var store = window.eth.contract(window.storeABI).at(window.storeAddress);

    Hero.on = function(data){
      if (data.click === "submitCreate") {
        console.log("submitCreate")
        var ethWei = Eth.toWei(12, 'ether');
        eth.accounts().then(function(accounts){
          store.forbiddenSeller({from:accounts[0], value:ethWei}).then(function(txhash){
          });
        });
      }
    };
    Hero.viewWillAppear = function() {

    };
    Hero.viewWillDisAppear = function() {

    };
    Hero.viewDidload = function() {

    };
    Hero.ui = {
      nav:{
        navigationBarHidden: false,
        title:'创建商户'
      },
      views:[
            {
              class: 'HeroLabel',
              frame: {x: '25', y: '50', r: '25', h: '30'},
              text: '设置手续费：(%)',
              textColor:'333333',
              size: 24
            },
            {
              class: 'HeroTextField',
              frame: {x: '25', y: '100', r: '25', h: '50'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              cornerRadius: 8
            },
            {
              class: 'HeroLabel',
              frame: {x: '25', y: '150', r: '25', h: '30'},
              text: '(卖家所成交的单笔交易价格百分比)',
              size: 12,
              alignment:'right',
              textColor: '999999'
            },
            {
              class: 'HeroLabel',
              frame: {x: '25', y: '190', r: '25', h: '30'},
              text: '设置代币支付种类：(合约地址)',
              textColor:'333333',
              size: 24
            },
            {
              class: 'HeroTextField',
              name:'tokenAddress',
              frame: {x: '25', y: '250', r: '25', h: '50'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              size:14,
              cornerRadius: 8
            },
            {
              class:'HeroButton',
              frame:{r:'25',w:'68',y:'310',h:'34'},
              title:'使用ETH',
              titleColor:window.tintColor,
              ripple:true,
              click:{datas:{name:'tokenAddress',text:'0x0000000000000000000000000000000000000000'}}
            },
            {
              class: 'HeroLabel',
              frame: {x: '25', y: '350', r: '25', h: '30'},
              text: '设置联系方式：',
              textColor:'333333',
              size: 24
            },
            {
              class: 'HeroTextField',
              frame: {x: '25', y: '400', r: '25', h: '50'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              placeHolder: 'tg/QQ/微信/邮箱',
              cornerRadius: 8
            },
            {
              class: 'HeroTextField',
              frame: {x: '25', y: '460', r: '25', h: '50'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              placeHolder: 'tg/QQ/微信/邮箱',
              cornerRadius: 8
            },
            {
              class: 'HeroImageView',
              frame: {r: '25', y: '520', w: '30', h: '30'},
              image:path+'./images/Merchant_increase_icon@2x.png'
            },
          {
              class: 'HeroButton',
              frame: {x: '25', y: '570', r: '25', h: '50'},
              title: '提交',
              size: 20,
              backgroundColor: '25B0B8',
              cornerRadius: 8,
              ripple:true,
              click: {click: 'submitCreate'}
            }

          ]
        };

      </script>
    </body>
    </html>
