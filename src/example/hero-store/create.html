<!doctype html>
<html>
<head>
  <script src="./app/config.js"></script>
  <script src="./app/shareViews.js"></script>
  <script src="./app/herohelper.js"></script>
  <script src="./app/autoRefresh.js"></script>
  <script src='/socket.io/socket.io.js'></script>
  <script src="./app/ethjs.min.js"></script>
  <script src="./app/store.js"></script>
  <script src="../../hero.js"></script>
  <script>
    if(typeof web3 !== 'undefined') {
      window.eth = new Eth(web3.currentProvider);
    } else {
      window.eth = new Eth(new Eth.HttpProvider(window.ethProvider));
    }

    var eth = window.eth;
    var store = window.eth.contract(window.storeABI).at(window.storeAddress);

    Hero.on = function(data){
      if (data.click === "submitCreate") {
        console.log("submitCreate")
        var ethWei = Eth.toWei(12, 'ether');
        eth.accounts().then(function(accounts){
          store.forbiddenSeller({from:accounts[0], value:ethWei}).then(function(txhash){
          });
        });
      }
    };
    Hero.viewWillAppear = function() {

    };
    Hero.viewWillDisAppear = function() {

    };
    Hero.viewDidload = function() {

    };
    Hero.ui = {
      nav:{
        navigationBarHidden: false
      },
      views:[
          {
            class: 'HeroView',
            frame:{w:'1x',y:'0',h:'89'},
            subViews:[
                  // header
            ]
          },
          {
            class: 'HeroLabel',
            frame: {x: '0.12x', y: '0.1x', w: '0.88x', h: '50'},
            text: '创建商户',
            size: 36
          },
          {
            class: 'HeroView',
            frame: {x: '0.12x', y: '50+0.1x', w: '144', h: '2'},
            backgroundColor: 'bbbbbb'
          },
          {
            class: 'HeroView',
            frame: {x: '0.12x', y: '50+0.15x', w: '0.88x', h: '50'},
            subViews: [
            {
              class: 'HeroLabel',
              frame: {x: '0', y: '0', w: '144', h: '50'},
              text: '设置手续费：',
              size: 24
            },
            {
              class: 'HeroTextField',
              frame: {x: '150', y: '5', w: '0.2x', h: '40'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              cornerRadius: 8
            },
            {
              class: 'HeroLabel',
              frame: {x: '150+0.21x', y: '0', w: '', h: '50'},
              text: '%',
              size: 24
            },
            {
              class: 'HeroLabel',
              frame: {x: '200+0.21x', y: '0', w: '', h: '50'},
              text: '(卖家所成交的单笔交易价格百分比)',
              size: 20,
              textColor: '333333'
            },
            ]
          },
          {
            class: 'HeroView',
            frame: {x: '0.12x', y: '50+0.25x', w: '0.88x', h: '100'},
            // backgroundColor: '444444',
            subViews: [
            {
              class: 'HeroLabel',
              frame: {x: '0', y: '0', w: '', h: ''  },
              text: '设置代币支付种类：',
              size: 24
            },
            // {
            //   class: 'HeroSwitch',
            //   frame: {w: '10', h: '10', x: '10', y: '130'}
            // },
            {
              class: 'HeroLabel',
              frame: {x: '0.05x', y: '45', w: '', h: ''},
              text: 'ETH(以太坊)',
              size: 24
            },
            // {
            //   class: 'HeroSwitch',
            //   frame: {w: '10', h: '10', x: '250', y: '130'}
            // },
            {
              class: 'HeroTextField',
              frame: {x: '190+0.05x', y: '45', w: '0.3x', h: '40'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              cornerRadius: 8
            },
            ]
          },
          {
            class: 'HeroView',
            frame: {x: '0.12x', y: '50+0.4x', w: '0.88x', h: '150'},
            // backgroundColor: '333333',
            subViews: [
            {
              class: 'HeroLabel',
              frame: {x: '0', y: '0', w: '', h: ''},
              text: '设置联系方式：',
              size: 24
            },
            {
              class: 'HeroTextField',
              frame: {x: '0', y: '50',w: '0.5x', h: '40'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              text: 'tg/QQ/微信/邮箱',
              cornerRadius: 8
            },
            {
              class: 'HeroTextField',
              frame: {x: '0', y: '100',w: '0.5x', h: '40'},
              borderWidth: 1,
              borderColor: 'BFBFBF',
              text: 'tg/QQ/微信/邮箱',
              cornerRadius: 8
            },
            {
              class: 'HeroImageView',
              frame: {x: '0.5x+20', y: '107.5', w: '30', h: '30'},
              image:path+'./images/Merchant_increase_icon@2x.png'
            },
            ]
          },
          {
              class: 'HeroButton',
              frame: {x: '0.31x', y: '50+0.7x', w: '0.15x', h: '50'},
              title: '提交',
              size: 20,
              backgroundColor: '25B0B8',
              cornerRadius: 8,
              click: {click: 'submitCreate'}
            }

          ]
        };

      </script>
    </body>
    </html>
